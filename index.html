<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<style>
		#field{
  display: inline-block;
  margin-right: 20px;
  padding: 15px;
  font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
  color: #fff;
  font-weight: bold;
  background-color: orange;
  font-size: 50px;
  border-radius: 5px;
}
.inner{
  font-size: 10px;
}
	</style>
</head>
<body>
	<button id="but">disp</button>
	<div id="field" class="days-field">0</div>
	<div id="field" class="hour-field">0
	  <div class="inner">часы</div>
	</div>
	<div id="field" class="min-field">0</div>
	<div id="field" class="sec-field">0</div>
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
	<script>
		
var myDate = new Date();

function correctDate(d, h, m){
  myDate.setDate(myDate.getDate() + d);
  myDate.setHours(myDate.getHours() + h);
  myDate.setMinutes(myDate.getMinutes() + m);
  return myDate;
}
if($.cookie("timer")){
  console.log("Is cookie");
  var dateEnd = $.cookie('timer'); 
}else{
  console.log("Is not cookie");
  var dateEnd = correctDate(3, 8, 35);
  $.cookie('timer', dateEnd, {expires: 365});
}
// console.log('Timer ' + $.cookie('timer'));
function getTime(){
  var date1 = new Date(); //текущая дата
  var date2 = new Date(dateEnd);
  // console.log(date1);
// var date2 = new Date(2018, 7, 6, 15, 0, 0, 0); //дата окончания
var timeDiff = date2.getTime() - date1.getTime();//разница м/у датами в ms
var seconds = Math.floor((timeDiff / 1000 ) % 60);
var minutes = Math.floor( (timeDiff /1000/60) % 60 );
var hours = Math.floor( (timeDiff/(1000*60*60)) % 24);
var days = Math.floor( timeDiff/(1000*60*60*24) );

  return {
    remaining: timeDiff,
    days: days,
    hours: hours,
    minutes: minutes,
    seconds: seconds
    
  }
}
var interval = setInterval(render, 1000);
function render(){
  var hourField = document.querySelector('.hour-field'),
      minField = document.querySelector('.min-field'),
        secField = document.querySelector('.sec-field'),
      daysField = document.querySelector('.days-field'),
      
      day = getTime().days,
      hour = getTime().hours,
      minutes = getTime().minutes,
      seconds = getTime().seconds;
  
  
  
// добавление нулей, если одгозначная цифра в поле
  if(hour < 10) hour = '0' + hour;
  if(minutes < 10) minutes= '0' + minutes; 
   if(seconds < 10) seconds= '0' + seconds;
  
  daysField.innerHTML = day;
  hourField.innerHTML = hour;
  minField.innerHTML= minutes;
  secField.innerHTML= seconds;
  
  if(getTime().remaining < 0 ){
    clearInterval(interval);
   
    daysField.innerHTML = '00';
    hourField.innerHTML = '00';
  minField.innerHTML= '00';
  secField.innerHTML= '00';
  } 
}



// var diffMins = Math.ceil(timeDiff / (1000 * 3600));
// //alert(diffDays);


// var today = new Date();
// var newDate = new Date(2018, 0, 1),
//     i = 0;
// //console.log(newDate);
// var distance = newDate - today;
// var opt = {
//   month: 'long'
// }
// but.onclick = function(){
//   console.log('diffHours' + diffHours);
//   console.log('diffDays' + diffDays);
//   console.log(today.getTime());
//   console.log(date2.getTime());
 
// }
// var time = setInterval(function(){  
//  render();
// }, 1000);
// function render(){
//   var today = new Date();
//   var newDate = new Date(2018, 0, 1);
//   var distance = newDate - today,
//       hourField = document.querySelector('.hour-field'),
//       minField = document.querySelector('.min-field'),
//         secField = document.querySelector('.sec-field'),
      
//       hour = today.getHours(),
//       min = today.getMinutes(),
//       sec = today.getSeconds();
//    if(hour < 10){hour = '0' + hour;}
//     if(min < 10){min = '0' + min;}
//   if(sec< 10){sec = '0' + sec;}
//   hourField.innerHTML = hour;
//   minField.innerHTML = min;
//   secField.innerHTML = sec;
  
// }
	</script>
</body>
</html>